prompt --application/set_environment
set define off verify off feedback off
whenever sqlerror exit sql.sqlcode rollback
--------------------------------------------------------------------------------
--
-- ORACLE Application Express (APEX) export file
--
-- You should run the script connected to SQL*Plus as the Oracle user
-- APEX_210100 or as the owner (parsing schema) of the application.
--
-- NOTE: Calls to apex_application_install override the defaults below.
--
--------------------------------------------------------------------------------
begin
wwv_flow_api.import_begin (
 p_version_yyyy_mm_dd=>'2021.04.15'
,p_release=>'21.1.0'
,p_default_workspace_id=>29300347010897583
,p_default_application_id=>999998
,p_default_id_offset=>0
,p_default_owner=>'DEV'
);
end;
/
 
prompt APPLICATION 999998 - Plugin Dev
--
-- Application Export:
--   Application:     999998
--   Name:            Plugin Dev
--   Date and Time:   15:50 Tuesday August 17, 2021
--   Exported By:     MARVIN
--   Flashback:       0
--   Export Type:     Component Export
--   Manifest
--     PLUGIN: 115801066670338907
--   Manifest End
--   Version:         21.1.0
--   Instance ID:     800139656204023
--

begin
  -- replace components
  wwv_flow_api.g_mode := 'REPLACE';
end;
/
prompt --application/shared_components/plugins/dynamic_action/mvx_ir_coluns_group
begin
wwv_flow_api.create_plugin(
 p_id=>wwv_flow_api.id(115801066670338907)
,p_plugin_type=>'DYNAMIC ACTION'
,p_name=>'MVX.IR.COLUNS.GROUP'
,p_display_name=>'IR Column Groups'
,p_category=>'MISC'
,p_supported_ui_types=>'DESKTOP'
,p_image_prefix=>'&G_APEX_NITRO_IMAGES.'
,p_javascript_file_urls=>'#PLUGIN_FILES#js/IRColumnsGroup.js'
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'/*-------------------------------------',
' * Interactive Report Column Groups',
' * Version: 1.0 (17.08.2021)',
' * Author:  Marvin Amorim',
' *-------------------------------------',
'*/',
'',
'FUNCTION f_ajax(',
'  p_dynamic_action IN apex_plugin.t_dynamic_action,',
'  p_plugin         IN apex_plugin.t_plugin',
') RETURN apex_plugin.t_dynamic_action_ajax_result IS',
'  v_result apex_plugin.t_dynamic_action_ajax_result;',
'  v_cursor sys_refcursor;',
'  c1 SYS_REFCURSOR;',
'BEGIN',
'  open c1 for',
'    select COLUMN_GROUP_NAME as "group", REPORT_LABEL as "column"',
'      from APEX_APPLICATION_PAGE_IR_COL COLS',
'     inner join APEX_APPLICATION_PAGE_IR_CGRPS GRPS',
'        on GRPS.INTERACTIVE_REPORT_ID = COLS.INTERACTIVE_REPORT_ID',
'       and GRPS.COLUMN_GROUP_NAME = COLS.COLUMN_GROUP',
'       and COLUMN_GROUP is not null',
'     inner join APEX_APPLICATION_PAGE_IR IR',
'        on IR.INTERACTIVE_REPORT_ID = GRPS.INTERACTIVE_REPORT_ID',
'     inner join APEX_APPLICATION_PAGE_REGIONS RG',
'        on RG.REGION_ID = IR.REGION_ID',
'       and RG.STATIC_ID = apex_application.g_x01',
'     where COLS.APPLICATION_ID = v(''APP_ID'')',
'       and COLS.PAGE_ID = v(''APP_PAGE_ID'')',
'     order by DISPLAY_ORDER;',
'    APEX_JSON.WRITE(c1);',
'  RETURN v_result;',
'END;',
'------------------------------------------------------------------------------',
'FUNCTION f_render(',
'  p_dynamic_action IN apex_plugin.t_dynamic_action,',
'  p_plugin         IN apex_plugin.t_plugin',
') RETURN apex_plugin.t_dynamic_action_render_result IS',
'  --',
'  -- plugin attributes',
'  v_result  apex_plugin.t_dynamic_action_render_result;',
'BEGIN',
'  v_result.javascript_function := ''IRColumnGroups.init'';',
'  v_result.attribute_01        := p_dynamic_action.attribute_01;',
'  v_result.ajax_identifier     := apex_plugin.get_ajax_identifier;',
'  RETURN v_result;',
'END f_render;'))
,p_api_version=>2
,p_render_function=>'f_render'
,p_ajax_function=>'f_ajax'
,p_substitute_attributes=>true
,p_subscribe_plugin_settings=>true
,p_version_identifier=>'1.0'
,p_about_url=>'https://github.com/marvinamorim/apex_ir_column_groups'
,p_files_version=>10
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(115801279181341898)
,p_plugin_id=>wwv_flow_api.id(115801066670338907)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'Report Static ID'
,p_attribute_type=>'TEXT'
,p_is_required=>true
,p_is_translatable=>false
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '636F6E7374204952436F6C756D6E47726F757073203D2066756E6374696F6E2829207B0D0A096C6574207265706F7274203D207B7D3B0D0A096173796E632066756E6374696F6E20696E69742829207B0D0A0909636F6E737420616A617843616C6C6261';
wwv_flow_api.g_varchar2_table(2) := '636B203D20746869732E616374696F6E2E616A61784964656E7469666965723B0D0A09097265706F72742E6964203D20746869732E616374696F6E2E61747472696275746530313B0D0A0909636F6E736F6C652E6C6F672827496E6974696E6720495243';
wwv_flow_api.g_varchar2_table(3) := '6F6C756D6E7347726F757020666F72272C202223222B7265706F72742E6964293B0D0A09097661722061726773203D207B207830313A207265706F72742E6964207D3B0D0A090976617220636F6C756D6E47726F757073203D2061776169742061706578';
wwv_flow_api.g_varchar2_table(4) := '2E7365727665722E706C7567696E28616A617843616C6C6261636B2C20617267732C7B64617461547970653A22227D293B0D0A090967726F75706564436F6C73203D2067726F7570436F6C756D6E7328636F6C756D6E47726F757073293B0D0A09096372';
wwv_flow_api.g_varchar2_table(5) := '6561746547726F75707348544D4C2867726F75706564436F6C73293B0D0A097D0D0A0D0A0966756E6374696F6E2067726F7570436F6C756D6E7328756E67726F757065644461746129207B0D0A09096C65742067726F7570436F6C73203D205B5D3B0D0A';
wwv_flow_api.g_varchar2_table(6) := '0909756E67726F75706564446174612E6D61702866756E6374696F6E286461746129207B0D0A0909096C65742069203D2067726F7570436F6C732E6D61702867726F7570203D3E207B2072657475726E2067726F75702E67726F7570207D292E696E6465';
wwv_flow_api.g_varchar2_table(7) := '784F6628646174612E67726F7570293B0D0A0909096966202869203C2030292067726F7570436F6C732E70757368287B67726F75703A646174612E67726F75702C20636F6C756D6E733A5B646174612E636F6C756D6E5D7D290D0A090909656C73652067';
wwv_flow_api.g_varchar2_table(8) := '726F7570436F6C735B695D2E636F6C756D6E732E7075736828646174612E636F6C756D6E293B0D0A09097D293B0D0A090972657475726E2067726F7570436F6C733B0D0A097D0D0A0D0A0966756E6374696F6E2063726561746547726F75707348544D4C';
wwv_flow_api.g_varchar2_table(9) := '2867726F7570436F6C7329207B0D0A090976617220247472203D202428223C74723E3C2F74723E22293B0D0A0909766172206C617374496E646578203D20313B0D0A090967726F7570436F6C732E6D6170287468697347726F7570203D3E207B0D0A0909';
wwv_flow_api.g_varchar2_table(10) := '097661722069203D20313B0D0A09090976617220666972737447726F7570436F6C756D6E203D207468697347726F75702E636F6C756D6E735B305D3B0D0A09090924286023247B7265706F72742E69647D202E742D6668742D7468656164202E612D4952';
wwv_flow_api.g_varchar2_table(11) := '522D68656164657260290D0A0909092E656163682866756E6374696F6E28297B0D0A090909096C657420247468203D20242874686973293B0D0A090909097661722024686561646572203D202474682E66696E6428222E612D4952522D6865616465724C';
wwv_flow_api.g_varchar2_table(12) := '696E6B22292E6C656E677468203F0D0A09090909090909090909092474682E66696E6428222E612D4952522D6865616465724C696E6B2229203A0D0A09090909090909090909092474682E66696E6428222E612D4952522D6865616465724C6162656C22';
wwv_flow_api.g_varchar2_table(13) := '293B0D0A090909096C65742074657874203D202428246865616465722E636F6E74656E747328295B305D292E7465787428293B0D0A090909096966202874657874203D3D20666972737447726F7570436F6C756D6E292072657475726E2066616C73653B';
wwv_flow_api.g_varchar2_table(14) := '0D0A09090909656C736520692B2B3B0D0A0909097D293B0D0A0909096966202869203E206C617374496E64657829207B0D0A090909092474722E617070656E64282428603C746420636F6C7370616E3D22247B692D6C617374496E6465787D223E3C2F74';
wwv_flow_api.g_varchar2_table(15) := '643E6029293B0D0A090909096C617374496E646578203D20693B0D0A0909097D0D0A090909636F6C7370616E203D207468697347726F75702E636F6C756D6E732E6C656E6774683B0D0A0909096C617374496E646578203D20692B636F6C7370616E3B0D';
wwv_flow_api.g_varchar2_table(16) := '0A0909092474722E617070656E64282428603C746420616C69676E3D2263656E7465722220636F6C7370616E3D22247B636F6C7370616E7D223E247B7468697347726F75702E67726F75707D3C2F74643E6029293B0D0A09097D293B0D0A090924286023';
wwv_flow_api.g_varchar2_table(17) := '247B7265706F72742E69647D202E742D6668742D7468656164207461626C6560292E70726570656E64282474722E636C6F6E652829293B0D0A097D0D0A0D0A0972657475726E207B0D0A0909696E69740D0A097D0D0A7D28293B0D0A2F2F2320736F7572';
wwv_flow_api.g_varchar2_table(18) := '63654D617070696E6755524C3D4952436F6C756D6E7347726F75702E6A732E6D61700D0A';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(115802001658344052)
,p_plugin_id=>wwv_flow_api.id(115801066670338907)
,p_file_name=>'js/IRColumnsGroup.js'
,p_mime_type=>'text/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '7B2276657273696F6E223A332C226E616D6573223A5B5D2C226D617070696E6773223A22222C22736F7572636573223A5B224952436F6C756D6E7347726F75702E6A73225D2C22736F7572636573436F6E74656E74223A5B22636F6E7374204952436F6C';
wwv_flow_api.g_varchar2_table(2) := '756D6E47726F757073203D2066756E6374696F6E2829207B5C725C6E5C746C6574207265706F7274203D207B7D3B5C725C6E5C746173796E632066756E6374696F6E20696E69742829207B5C725C6E5C745C74636F6E737420616A617843616C6C626163';
wwv_flow_api.g_varchar2_table(3) := '6B203D20746869732E616374696F6E2E616A61784964656E7469666965723B5C725C6E5C745C747265706F72742E6964203D20746869732E616374696F6E2E61747472696275746530313B5C725C6E5C745C74636F6E736F6C652E6C6F672827496E6974';
wwv_flow_api.g_varchar2_table(4) := '696E67204952436F6C756D6E7347726F757020666F72272C205C22235C222B7265706F72742E6964293B5C725C6E5C745C747661722061726773203D207B207830313A207265706F72742E6964207D3B5C725C6E5C745C7476617220636F6C756D6E4772';
wwv_flow_api.g_varchar2_table(5) := '6F757073203D20617761697420617065782E7365727665722E706C7567696E28616A617843616C6C6261636B2C20617267732C7B64617461547970653A5C225C227D293B5C725C6E5C745C7467726F75706564436F6C73203D2067726F7570436F6C756D';
wwv_flow_api.g_varchar2_table(6) := '6E7328636F6C756D6E47726F757073293B5C725C6E5C745C7463726561746547726F75707348544D4C2867726F75706564436F6C73293B5C725C6E5C747D5C725C6E5C725C6E5C7466756E6374696F6E2067726F7570436F6C756D6E7328756E67726F75';
wwv_flow_api.g_varchar2_table(7) := '7065644461746129207B5C725C6E5C745C746C65742067726F7570436F6C73203D205B5D3B5C725C6E5C745C74756E67726F75706564446174612E6D61702866756E6374696F6E286461746129207B5C725C6E5C745C745C746C65742069203D2067726F';
wwv_flow_api.g_varchar2_table(8) := '7570436F6C732E6D61702867726F7570203D3E207B2072657475726E2067726F75702E67726F7570207D292E696E6465784F6628646174612E67726F7570293B5C725C6E5C745C745C746966202869203C2030292067726F7570436F6C732E7075736828';
wwv_flow_api.g_varchar2_table(9) := '7B67726F75703A646174612E67726F75702C20636F6C756D6E733A5B646174612E636F6C756D6E5D7D295C725C6E5C745C745C74656C73652067726F7570436F6C735B695D2E636F6C756D6E732E7075736828646174612E636F6C756D6E293B5C725C6E';
wwv_flow_api.g_varchar2_table(10) := '5C745C747D293B5C725C6E5C745C7472657475726E2067726F7570436F6C733B5C725C6E5C747D5C725C6E5C725C6E5C7466756E6374696F6E2063726561746547726F75707348544D4C2867726F7570436F6C7329207B5C725C6E5C745C747661722024';
wwv_flow_api.g_varchar2_table(11) := '7472203D2024285C223C74723E3C2F74723E5C22293B5C725C6E5C745C74766172206C617374496E646578203D20313B5C725C6E5C745C7467726F7570436F6C732E6D6170287468697347726F7570203D3E207B5C725C6E5C745C745C74766172206920';
wwv_flow_api.g_varchar2_table(12) := '3D20313B5C725C6E5C745C745C7476617220666972737447726F7570436F6C756D6E203D207468697347726F75702E636F6C756D6E735B305D3B5C725C6E5C745C745C7424286023247B7265706F72742E69647D202E742D6668742D7468656164202E61';
wwv_flow_api.g_varchar2_table(13) := '2D4952522D68656164657260295C725C6E5C745C745C742E656163682866756E6374696F6E28297B5C725C6E5C745C745C745C746C657420247468203D20242874686973293B5C725C6E5C745C745C745C747661722024686561646572203D202474682E';
wwv_flow_api.g_varchar2_table(14) := '66696E64285C222E612D4952522D6865616465724C696E6B5C22292E6C656E677468203F5C725C6E5C745C745C745C745C745C745C745C745C745C745C742474682E66696E64285C222E612D4952522D6865616465724C696E6B5C2229203A5C725C6E5C';
wwv_flow_api.g_varchar2_table(15) := '745C745C745C745C745C745C745C745C745C745C742474682E66696E64285C222E612D4952522D6865616465724C6162656C5C22293B5C725C6E5C745C745C745C746C65742074657874203D202428246865616465722E636F6E74656E747328295B305D';
wwv_flow_api.g_varchar2_table(16) := '292E7465787428293B5C725C6E5C745C745C745C746966202874657874203D3D20666972737447726F7570436F6C756D6E292072657475726E2066616C73653B5C725C6E5C745C745C745C74656C736520692B2B3B5C725C6E5C745C745C747D293B5C72';
wwv_flow_api.g_varchar2_table(17) := '5C6E5C745C745C746966202869203E206C617374496E64657829207B5C725C6E5C745C745C745C742474722E617070656E64282428603C746420636F6C7370616E3D5C22247B692D6C617374496E6465787D5C223E3C2F74643E6029293B5C725C6E5C74';
wwv_flow_api.g_varchar2_table(18) := '5C745C745C746C617374496E646578203D20693B5C725C6E5C745C745C747D5C725C6E5C745C745C74636F6C7370616E203D207468697347726F75702E636F6C756D6E732E6C656E6774683B5C725C6E5C745C745C746C617374496E646578203D20692B';
wwv_flow_api.g_varchar2_table(19) := '636F6C7370616E3B5C725C6E5C745C745C742474722E617070656E64282428603C746420616C69676E3D5C2263656E7465725C2220636F6C7370616E3D5C22247B636F6C7370616E7D5C223E247B7468697347726F75702E67726F75707D3C2F74643E60';
wwv_flow_api.g_varchar2_table(20) := '29293B5C725C6E5C745C747D293B5C725C6E5C745C7424286023247B7265706F72742E69647D202E742D6668742D7468656164207461626C6560292E70726570656E64282474722E636C6F6E652829293B5C725C6E5C747D5C725C6E5C725C6E5C747265';
wwv_flow_api.g_varchar2_table(21) := '7475726E207B5C725C6E5C745C74696E69745C725C6E5C747D5C725C6E7D28293B225D2C2266696C65223A224952436F6C756D6E7347726F75702E6A73227D';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(115802357910344056)
,p_plugin_id=>wwv_flow_api.id(115801066670338907)
,p_file_name=>'js/IRColumnsGroup.js.map'
,p_mime_type=>'text/plain'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '636F6E7374204952436F6C756D6E47726F7570733D66756E6374696F6E28297B6C6574206E3D7B7D3B72657475726E7B696E69743A6173796E632066756E6374696F6E28297B636F6E737420743D746869732E616374696F6E2E616A61784964656E7469';
wwv_flow_api.g_varchar2_table(2) := '666965723B6E2E69643D746869732E616374696F6E2E61747472696275746530312C636F6E736F6C652E6C6F672822496E6974696E67204952436F6C756D6E7347726F757020666F72222C2223222B6E2E6964293B76617220652C6F2C612C693D7B7830';
wwv_flow_api.g_varchar2_table(3) := '313A6E2E69647D2C723D617761697420617065782E7365727665722E706C7567696E28742C692C7B64617461547970653A22227D293B67726F75706564436F6C733D66756E6374696F6E286E297B6C657420743D5B5D3B72657475726E206E2E6D617028';
wwv_flow_api.g_varchar2_table(4) := '66756E6374696F6E286E297B6C657420653D742E6D6170286E3D3E6E2E67726F7570292E696E6465784F66286E2E67726F7570293B653C303F742E70757368287B67726F75703A6E2E67726F75702C636F6C756D6E733A5B6E2E636F6C756D6E5D7D293A';
wwv_flow_api.g_varchar2_table(5) := '745B655D2E636F6C756D6E732E70757368286E2E636F6C756D6E297D292C747D2872292C653D67726F75706564436F6C732C6F3D2428223C74723E3C2F74723E22292C613D312C652E6D617028743D3E7B76617220653D312C693D742E636F6C756D6E73';
wwv_flow_api.g_varchar2_table(6) := '5B305D3B24286023247B6E2E69647D202E742D6668742D7468656164202E612D4952522D68656164657260292E656163682866756E6374696F6E28297B6C6574206E3D242874686973293B76617220743D6E2E66696E6428222E612D4952522D68656164';
wwv_flow_api.g_varchar2_table(7) := '65724C696E6B22292E6C656E6774683F6E2E66696E6428222E612D4952522D6865616465724C696E6B22293A6E2E66696E6428222E612D4952522D6865616465724C6162656C22293B6C6574206F3D2428742E636F6E74656E747328295B305D292E7465';
wwv_flow_api.g_varchar2_table(8) := '787428293B6966286F3D3D692972657475726E21313B652B2B7D292C653E612626286F2E617070656E64282428603C746420636F6C7370616E3D22247B652D617D223E3C2F74643E6029292C613D65292C636F6C7370616E3D742E636F6C756D6E732E6C';
wwv_flow_api.g_varchar2_table(9) := '656E6774682C613D652B636F6C7370616E2C6F2E617070656E64282428603C746420616C69676E3D2263656E7465722220636F6C7370616E3D22247B636F6C7370616E7D223E247B742E67726F75707D3C2F74643E6029297D292C24286023247B6E2E69';
wwv_flow_api.g_varchar2_table(10) := '647D202E742D6668742D7468656164207461626C6560292E70726570656E64286F2E636C6F6E652829297D7D7D28293B';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(115802779099344058)
,p_plugin_id=>wwv_flow_api.id(115801066670338907)
,p_file_name=>'js/IRColumnsGroup.min.js'
,p_mime_type=>'text/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
prompt --application/end_environment
begin
wwv_flow_api.import_end(p_auto_install_sup_obj => nvl(wwv_flow_application_install.get_auto_install_sup_obj, false));
commit;
end;
/
set verify on feedback on define on
prompt  ...done
